{"version":3,"names":["Modal","opt","success","fail","confirm","cancel","options","_objectWithoutProperties2","_excluded","modalOptions","_objectSpread2","title","showCancel","cancelText","cancelColor","confirmText","confirmColor","slice","Promise","resolve","reject","common_vendor","index","showModal","res","err"],"sources":["modal.ts"],"sourcesContent":["import { ModalOptions } from '@/types/index'\r\n\r\nexport const Modal = (opt ?: ModalOptions) => {\r\n  const {\r\n    success,\r\n    fail,\r\n    confirm,\r\n    cancel,\r\n    ...options\r\n  } = opt\r\n\r\n  const modalOptions : UniApp.ShowModalOptions = {\r\n    title: '温馨提示',\r\n    showCancel: true,\r\n    cancelText: '取消',\r\n    cancelColor: '#666666',\r\n    confirmText: '确定',\r\n    confirmColor: '#0072FF',\r\n    ...options\r\n  }\r\n\r\n  // #ifdef MP\r\n  modalOptions.cancelText = modalOptions.cancelText.slice(0, 4)\r\n  modalOptions.confirmText = modalOptions.confirmText.slice(0, 4)\r\n    // #endif\r\n\r\n    // #ifdef APP-ANDROID\r\n    ;[modalOptions.confirmText, modalOptions.cancelText] = [modalOptions.cancelText, modalOptions.confirmText]\r\n    ;[modalOptions.confirmColor, modalOptions.cancelColor] = [modalOptions.cancelColor, modalOptions.confirmColor]\r\n  // #endif\r\n\r\n  return new Promise((resolve, reject) => {\r\n    uni.showModal({\r\n      ...modalOptions,\r\n      success: (res : UniApp.ShowModalRes) => {\r\n        success?.(res)\r\n        if (res.confirm) {\r\n          confirm?.()\r\n          resolve(true)\r\n        } else {\r\n          cancel?.()\r\n          resolve(false)\r\n        }\r\n      },\r\n      fail: (err : any) => {\r\n        fail?.(err)\r\n        reject(err)\r\n      }\r\n    })\r\n  })\r\n}\n"],"mappings":";;;;;;;AAEa,IAAAA,KAAA,GAAQ,SAARA,MAASC,GAAA,EAAwB;EACtC,IACJC,QAAA,GAKED,GAAA,CALFC,OAAA;IACAC,KAAA,GAIEF,GAAA,CAJFE,IAAA;IACAC,OAAA,GAGEH,GAAA,CAHFG,OAAA;IACAC,MAAA,GAEEJ,GAAA,CAFFI,MAAA;IACGC,OAAA,GAAAC,yBAAA,CACDN,GAAA,EAAAO,SAAA;EAEJ,IAAMC,YAAA,GAAAC,cAAA;IACJC,KAAA,EAAO;IACPC,UAAA,EAAY;IACZC,UAAA,EAAY;IACZC,WAAA,EAAa;IACbC,WAAA,EAAa;IACbC,YAAA,EAAc;EAAA,GACXV,OAAA;EAILG,YAAA,CAAaI,UAAA,GAAaJ,YAAA,CAAaI,UAAA,CAAWI,KAAA,CAAM,GAAG,CAAC;EAC5DR,YAAA,CAAaM,WAAA,GAAcN,YAAA,CAAaM,WAAA,CAAYE,KAAA,CAAM,GAAG,CAAC;EAQ9D,OAAO,IAAIC,OAAA,CAAQ,UAACC,OAAA,EAASC,MAAA,EAAW;IACtCC,aAAA,CAAAC,KAAA,CAAIC,SAAA,CAAAb,cAAA,CAAAA,cAAA,KACCD,YAAA;MACHP,OAAA,EAAS,SAATA,QAAUsB,GAAA,EAA8B;QACtCtB,QAAA,oBAAAA,QAAA,CAAUsB,GAAA;QACV,IAAIA,GAAA,CAAIpB,OAAA,EAAS;UACLA,OAAA,oBAAAA,OAAA;UACVe,OAAA,CAAQ,IAAI;QAAA,OACP;UACId,MAAA,oBAAAA,MAAA;UACTc,OAAA,CAAQ,KAAK;QACf;MACF;MACAhB,IAAA,EAAM,SAANA,KAAOsB,GAAA,EAAc;QACnBtB,KAAA,oBAAAA,KAAA,CAAOsB,GAAA;QACPL,MAAA,CAAOK,GAAG;MACZ;IAAA,GACD;EAAA,CACF;AACH","ignoreList":[]}