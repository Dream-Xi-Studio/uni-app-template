{"version":3,"file":"toast.js","sources":["packages/utils/tips/toast.ts"],"sourcesContent":["import { Router } from '@/packages/utils'\nimport type { ToastOptions, RouterOptions } from '@/packages/types'\n\n/**\n * 显示Toast提示消息，可选择在提示消失后执行页面跳转\n *\n * @param opt - Toast内容，可以是字符串或配置对象\n *              当为字符串时，将作为Toast的标题内容\n *              当为对象时，需符合UniApp.ShowToastOptions规范\n *\n * @param router - 可选参数，配置Toast消失后的页面跳转行为\n *                 传入RouterOptions对象指定跳转目标\n *\n * @example\n * // 基本用法\n * Toast('操作成功')\n *\n * @example\n * // 带配置项\n * Toast({\n *   title: '加载中...',\n *   icon: 'loading',\n *   duration: 1500\n * })\n *\n * @example\n * // Toast后跳转页面\n * Toast('提交成功', {\n *   path: '/pages/success',\n *   type: 'redirectTo'\n * })\n */\nexport function Toast(opt : ToastOptions, router ?: RouterOptions) : void {\n  // 参数标准化处理\n  const options = typeof opt === 'string' ? { title: opt } : opt\n\n  // 合并默认配置（符合uni-app规范）\n  const {\n    title = '',\n    icon = 'none',\n    duration = 2000,\n    position = 'bottom',\n    mask = false,\n    image = '',\n    success,\n    fail,\n    complete\n  } = options\n\n  // 验证并显示Toast\n  if (title && title.length > 0) {\n    try {\n      uni.showToast({\n        title,\n        icon: image ? 'none' : icon, // 如果有自定义图片则强制设为none\n        image,\n        duration,\n        position,\n        mask,\n        success(result : any) {\n          success?.(result)\n        },\n        fail(err : UniApp.UniError) {\n          console.error('[Toast] 显示失败:', err)\n          fail?.(err)\n        },\n        complete(result : any) {\n          complete?.(result)\n        }\n      })\n    } catch (err) {\n      console.error('[Toast] 调用异常:', err)\n    }\n  }\n\n  // 处理页面跳转\n  if (router !== undefined) {\n    const executeNavigation = () => Router(router)\n\n    title ? setTimeout(executeNavigation, duration) : executeNavigation()\n  }\n}\n"],"names":["opt","router","options","title","icon","duration","position","mask","image","success","fail","complete","length","uni","showToast","result","err","index","__f__","executeNavigation","Router","setTimeout"],"mappings":"kGAgCgB,SAAMA,EAAoBC,GAExC,MAAMC,EAAyB,iBAARF,EAAmB,CAAEG,MAAOH,GAAQA,GAGrDG,MACJA,EAAQ,GAAAC,KACRA,EAAO,OAAAC,SACPA,EAAW,IAAAC,SACXA,EAAW,SAAAC,KACXA,GAAO,EAAAC,MACPA,EAAQ,GAAAC,QACRA,EAAAC,KACAA,EAAAC,SACAA,GACET,EAGA,GAAAC,GAASA,EAAMS,OAAS,EACtB,IACFC,EAAAA,MAAIC,UAAU,CACZX,QACAC,KAAMI,EAAQ,OAASJ,EACvBI,QACAH,WACAC,WACAC,OACA,OAAAE,CAAQM,GACI,MAAAN,GAAAA,EAAAM,EACZ,EACA,IAAAL,CAAKM,GACHH,EAAAI,MAAAC,MAAA,QAAA,qCAAc,gBAAiBF,GACxB,MAAAN,GAAAA,EAAAM,EACT,EACA,QAAAL,CAASI,GACI,MAAAJ,GAAAA,EAAAI,EACb,UAEKC,GACPH,EAAAI,MAAcC,MAAA,QAAA,qCAAA,gBAAiBF,EACjC,CAIF,QAAe,IAAXf,EAAsB,CAClB,MAAAkB,EAAoB,IAAMC,SAAOnB,GAEvCE,EAAQkB,WAAWF,EAAmBd,GAAYc,GACpD,CACF"}